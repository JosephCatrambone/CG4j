/*
 * This build file was auto generated by running the Gradle 'init' task
 * by 'jcatrambone' at '12/2/16 11:20 AM' with Gradle 2.4
 *
 * This generated file contains a commented-out sample Java project to get you started.
 * For more details take a look at the Java Quickstart chapter in the Gradle
 * user guide available at http://gradle.org/docs/2.4/userguide/tutorial_java_projects.html
 */

buildscript {
	ext.kotlin_version = '1.0.4'
	ext.project_version = '0.7'

	repositories {
		jcenter()
	}

	dependencies {
		classpath "org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version"
		classpath 'com.jfrog.bintray.gradle:gradle-bintray-plugin:1.7'
		//classpath "org.nd4j:nd4j-native:0.7.0"
		//classpath "org.nd4j:nd4j-native-platform:0.4.0"
	}
}

apply plugin: 'kotlin'
apply plugin: 'application'
mainClassName = 'com.josephcatrambone.cg4j.MainKt'
defaultTasks 'run'

// In this section you declare where to find the dependencies of your project
repositories {
	jcenter()
}

// In this section you declare the dependencies for your production and test code
dependencies {
	compile "org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version"
	testCompile "io.kotlintest:kotlintest:1.3.5"
	//compile "golem:golem-core:0.7"
	//compile "golem:golem-backend-mtj:0.7"
	//compile group: "golem", name:"golem-backend-mtj", version: "0.7"
	//compile group: "golem", name:"golem-core", version: "0.7"
	//compile "org.nd4j:nd4j-native:0.7.1" // In theory, platform should be enough for just the three big ones, Windows, OSX, and Linux.  I've not seen it work, though.
	//compile "org.nd4j:nd4j-native-platform:0.4.0" // This is for ALL the platforms, Windows, OSX, Android, Linux, Arm, x86 native, EVERYTHING.
}

sourceSets {
	main.java.srcDir "src/main/kotlin"
	// main.resources.srcDir "src/main/resources"
}

jar {
	manifest {
		attributes(
			"Class-Path": configurations.compile.collect { it.getName() }.join(' '),
			"Main-Class": mainClassName
		)
	}
	// To include lib/
	from configurations.compile.collect { entry -> zipTree(entry) }
}

task wrapper(type: Wrapper) {
	gradleVersion = "2.7"
}
